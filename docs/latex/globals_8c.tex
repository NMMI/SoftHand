\section{globals.\+c File Reference}
\label{globals_8c}\index{globals.\+c@{globals.\+c}}


Global variables.  


{\ttfamily \#include $<$globals.\+h$>$}\newline
Include dependency graph for globals.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{globals_8c__incl}
\end{center}
\end{figure}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ st\+\_\+ref} g\+\_\+ref g\+\_\+ref\+New \textbf{ g\+\_\+ref\+Old}
\item 
struct \textbf{ st\+\_\+meas} g\+\_\+meas \textbf{ g\+\_\+meas\+Old}
\item 
struct \textbf{ st\+\_\+data} \textbf{ g\+\_\+rx}
\item 
struct \textbf{ st\+\_\+mem} g\+\_\+mem \textbf{ c\+\_\+mem}
\item 
struct \textbf{ st\+\_\+calib} \textbf{ calib}
\item 
float \textbf{ tau\+\_\+feedback}
\item 
uint32 \textbf{ timer\+\_\+value}
\item 
uint32 \textbf{ timer\+\_\+value0}
\item 
float \textbf{ cycle\+\_\+time}
\item 
int32 \textbf{ dev\+\_\+tension}
\item 
uint8 \textbf{ dev\+\_\+pwm\+\_\+limit}
\item 
uint8 \textbf{ dev\+\_\+pwm\+\_\+sat} = 100
\item 
int32 \textbf{ dev\+\_\+tension\+\_\+f}
\item 
int32 \textbf{ pow\+\_\+tension}
\item 
C\+Y\+B\+IT \textbf{ reset\+\_\+last\+\_\+value\+\_\+flag}
\item 
C\+Y\+B\+IT \textbf{ tension\+\_\+valid}
\item 
C\+Y\+B\+IT \textbf{ interrupt\+\_\+flag} = F\+A\+L\+SE
\item 
C\+Y\+B\+IT \textbf{ watchdog\+\_\+flag} = F\+A\+L\+SE
\item 
\mbox{\label{globals_8c_abb22f0a4462a0b4db27496654f2175a0}} 
int16 {\bfseries A\+D\+C\+\_\+buf} [4]
\item 
int8 \textbf{ pwm\+\_\+sign}
\item 
uint8 \textbf{ rest\+\_\+enabled}
\item 
uint8 \textbf{ forced\+\_\+open}
\item 
int32 \textbf{ rest\+\_\+pos\+\_\+curr\+\_\+ref}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Global variables. 

\begin{DoxyDate}{Date}
October 01, 2017 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
{\itshape Centro \char`\"{}\+E.\+Piaggio\char`\"{}} 
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
(C) 2012-\/2016 qbrobotics. All rights reserved. 

(C) 2017 Centro \char`\"{}\+E.\+Piaggio\char`\"{}. All rights reserved. 
\end{DoxyCopyright}


\subsection{Variable Documentation}
\mbox{\label{globals_8c_a44c3cbd8e234e0816f0334e29646a800}} 
\index{globals.\+c@{globals.\+c}!c\+\_\+mem@{c\+\_\+mem}}
\index{c\+\_\+mem@{c\+\_\+mem}!globals.\+c@{globals.\+c}}
\subsubsection{c\+\_\+mem}
{\footnotesize\ttfamily struct \textbf{ st\+\_\+mem} g\+\_\+mem c\+\_\+mem}

Memory parameters. \mbox{\label{globals_8c_aed96fdd8308fe2c4fc07c3b5db1c7bbb}} 
\index{globals.\+c@{globals.\+c}!calib@{calib}}
\index{calib@{calib}!globals.\+c@{globals.\+c}}
\subsubsection{calib}
{\footnotesize\ttfamily struct \textbf{ st\+\_\+calib} calib}

Calibration variables. \mbox{\label{globals_8c_a910e6d34a0bb2e8dbaf576e06bdf56f5}} 
\index{globals.\+c@{globals.\+c}!cycle\+\_\+time@{cycle\+\_\+time}}
\index{cycle\+\_\+time@{cycle\+\_\+time}!globals.\+c@{globals.\+c}}
\subsubsection{cycle\+\_\+time}
{\footnotesize\ttfamily float cycle\+\_\+time}

Variable used to calculate how much time a cycle takes. \mbox{\label{globals_8c_a21f4f67e4203dea0b9956589eaa6cef3}} 
\index{globals.\+c@{globals.\+c}!dev\+\_\+pwm\+\_\+limit@{dev\+\_\+pwm\+\_\+limit}}
\index{dev\+\_\+pwm\+\_\+limit@{dev\+\_\+pwm\+\_\+limit}!globals.\+c@{globals.\+c}}
\subsubsection{dev\+\_\+pwm\+\_\+limit}
{\footnotesize\ttfamily uint8 dev\+\_\+pwm\+\_\+limit}

Device pwm limit. It may change during execution. \mbox{\label{globals_8c_ad5c7a08c9d0e804a0db2d6f169976a13}} 
\index{globals.\+c@{globals.\+c}!dev\+\_\+pwm\+\_\+sat@{dev\+\_\+pwm\+\_\+sat}}
\index{dev\+\_\+pwm\+\_\+sat@{dev\+\_\+pwm\+\_\+sat}!globals.\+c@{globals.\+c}}
\subsubsection{dev\+\_\+pwm\+\_\+sat}
{\footnotesize\ttfamily uint8 dev\+\_\+pwm\+\_\+sat = 100}

Device pwm saturation. By default the saturation value must not exceed 100. \mbox{\label{globals_8c_a53a494e9edc739a4f7c884778d1a93b1}} 
\index{globals.\+c@{globals.\+c}!dev\+\_\+tension@{dev\+\_\+tension}}
\index{dev\+\_\+tension@{dev\+\_\+tension}!globals.\+c@{globals.\+c}}
\subsubsection{dev\+\_\+tension}
{\footnotesize\ttfamily int32 dev\+\_\+tension}

Power supply tension. \mbox{\label{globals_8c_a600f1f02d397d3ffd8b03b8a4edace02}} 
\index{globals.\+c@{globals.\+c}!dev\+\_\+tension\+\_\+f@{dev\+\_\+tension\+\_\+f}}
\index{dev\+\_\+tension\+\_\+f@{dev\+\_\+tension\+\_\+f}!globals.\+c@{globals.\+c}}
\subsubsection{dev\+\_\+tension\+\_\+f}
{\footnotesize\ttfamily int32 dev\+\_\+tension\+\_\+f}

Filtered power supply tension. \mbox{\label{globals_8c_a0f13b80a0c329fa3176eb1e72ef36fb8}} 
\index{globals.\+c@{globals.\+c}!forced\+\_\+open@{forced\+\_\+open}}
\index{forced\+\_\+open@{forced\+\_\+open}!globals.\+c@{globals.\+c}}
\subsubsection{forced\+\_\+open}
{\footnotesize\ttfamily uint8 forced\+\_\+open}

Forced open flag (used in position with rest position control). \mbox{\label{globals_8c_a47c3980e6bddec492ca4315e36602ba0}} 
\index{globals.\+c@{globals.\+c}!g\+\_\+meas\+Old@{g\+\_\+meas\+Old}}
\index{g\+\_\+meas\+Old@{g\+\_\+meas\+Old}!globals.\+c@{globals.\+c}}
\subsubsection{g\+\_\+meas\+Old}
{\footnotesize\ttfamily struct \textbf{ st\+\_\+meas} g\+\_\+meas g\+\_\+meas\+Old}

Measurements. \mbox{\label{globals_8c_a158d26b6d15050b37d8039881d75e0dc}} 
\index{globals.\+c@{globals.\+c}!g\+\_\+ref\+Old@{g\+\_\+ref\+Old}}
\index{g\+\_\+ref\+Old@{g\+\_\+ref\+Old}!globals.\+c@{globals.\+c}}
\subsubsection{g\+\_\+ref\+Old}
{\footnotesize\ttfamily struct \textbf{ st\+\_\+ref} g\+\_\+ref g\+\_\+ref\+New g\+\_\+ref\+Old}

Reference variables. \mbox{\label{globals_8c_aa963ce8fafc11e104eb7ee22982d0345}} 
\index{globals.\+c@{globals.\+c}!g\+\_\+rx@{g\+\_\+rx}}
\index{g\+\_\+rx@{g\+\_\+rx}!globals.\+c@{globals.\+c}}
\subsubsection{g\+\_\+rx}
{\footnotesize\ttfamily struct \textbf{ st\+\_\+data} g\+\_\+rx}

Incoming/\+Outcoming data. \mbox{\label{globals_8c_a1e6fda88dfdabc63859f8907eb702920}} 
\index{globals.\+c@{globals.\+c}!interrupt\+\_\+flag@{interrupt\+\_\+flag}}
\index{interrupt\+\_\+flag@{interrupt\+\_\+flag}!globals.\+c@{globals.\+c}}
\subsubsection{interrupt\+\_\+flag}
{\footnotesize\ttfamily C\+Y\+B\+IT interrupt\+\_\+flag = F\+A\+L\+SE}

Interrupt flag enabler. \mbox{\label{globals_8c_a63d713ff9ac5ba0651f6af9115a32e4d}} 
\index{globals.\+c@{globals.\+c}!pow\+\_\+tension@{pow\+\_\+tension}}
\index{pow\+\_\+tension@{pow\+\_\+tension}!globals.\+c@{globals.\+c}}
\subsubsection{pow\+\_\+tension}
{\footnotesize\ttfamily int32 pow\+\_\+tension}

Computed power supply tension. \mbox{\label{globals_8c_a8ac7ad7c894db750e93bc745818e26ca}} 
\index{globals.\+c@{globals.\+c}!pwm\+\_\+sign@{pwm\+\_\+sign}}
\index{pwm\+\_\+sign@{pwm\+\_\+sign}!globals.\+c@{globals.\+c}}
\subsubsection{pwm\+\_\+sign}
{\footnotesize\ttfamily int8 pwm\+\_\+sign}

A\+DC measurements buffer. Sign of pwm driven. Used to obtain current sign. \mbox{\label{globals_8c_aa89a782cfe75ce7970236babd308fe69}} 
\index{globals.\+c@{globals.\+c}!reset\+\_\+last\+\_\+value\+\_\+flag@{reset\+\_\+last\+\_\+value\+\_\+flag}}
\index{reset\+\_\+last\+\_\+value\+\_\+flag@{reset\+\_\+last\+\_\+value\+\_\+flag}!globals.\+c@{globals.\+c}}
\subsubsection{reset\+\_\+last\+\_\+value\+\_\+flag}
{\footnotesize\ttfamily C\+Y\+B\+IT reset\+\_\+last\+\_\+value\+\_\+flag}

This flag is set when the encoders last values must be resetted. \mbox{\label{globals_8c_a1f8839fadee52a47a0042eaa695c3f3a}} 
\index{globals.\+c@{globals.\+c}!rest\+\_\+enabled@{rest\+\_\+enabled}}
\index{rest\+\_\+enabled@{rest\+\_\+enabled}!globals.\+c@{globals.\+c}}
\subsubsection{rest\+\_\+enabled}
{\footnotesize\ttfamily uint8 rest\+\_\+enabled}

Rest position flag. \mbox{\label{globals_8c_a485e5b90bbfb79aa97f874873cd6c93a}} 
\index{globals.\+c@{globals.\+c}!rest\+\_\+pos\+\_\+curr\+\_\+ref@{rest\+\_\+pos\+\_\+curr\+\_\+ref}}
\index{rest\+\_\+pos\+\_\+curr\+\_\+ref@{rest\+\_\+pos\+\_\+curr\+\_\+ref}!globals.\+c@{globals.\+c}}
\subsubsection{rest\+\_\+pos\+\_\+curr\+\_\+ref}
{\footnotesize\ttfamily int32 rest\+\_\+pos\+\_\+curr\+\_\+ref}

Rest position current reference. \mbox{\label{globals_8c_a894b799ffe45f442a6a897580ab7e98e}} 
\index{globals.\+c@{globals.\+c}!tau\+\_\+feedback@{tau\+\_\+feedback}}
\index{tau\+\_\+feedback@{tau\+\_\+feedback}!globals.\+c@{globals.\+c}}
\subsubsection{tau\+\_\+feedback}
{\footnotesize\ttfamily float tau\+\_\+feedback}

Torque feedback. \mbox{\label{globals_8c_ac42fa606610c2600210d9b7b2c1d0882}} 
\index{globals.\+c@{globals.\+c}!tension\+\_\+valid@{tension\+\_\+valid}}
\index{tension\+\_\+valid@{tension\+\_\+valid}!globals.\+c@{globals.\+c}}
\subsubsection{tension\+\_\+valid}
{\footnotesize\ttfamily C\+Y\+B\+IT tension\+\_\+valid}

Tension validation bit. \mbox{\label{globals_8c_ad47cd0e4d0fcf5739a88e52e949a8084}} 
\index{globals.\+c@{globals.\+c}!timer\+\_\+value@{timer\+\_\+value}}
\index{timer\+\_\+value@{timer\+\_\+value}!globals.\+c@{globals.\+c}}
\subsubsection{timer\+\_\+value}
{\footnotesize\ttfamily uint32 timer\+\_\+value}

End time of the firmware main loop. \mbox{\label{globals_8c_a9bab7f1b1cf2ba38d5968eee42644c32}} 
\index{globals.\+c@{globals.\+c}!timer\+\_\+value0@{timer\+\_\+value0}}
\index{timer\+\_\+value0@{timer\+\_\+value0}!globals.\+c@{globals.\+c}}
\subsubsection{timer\+\_\+value0}
{\footnotesize\ttfamily uint32 timer\+\_\+value0}

Start time of the firmware main loop. \mbox{\label{globals_8c_a156a860c465529ff2f515725ab816a58}} 
\index{globals.\+c@{globals.\+c}!watchdog\+\_\+flag@{watchdog\+\_\+flag}}
\index{watchdog\+\_\+flag@{watchdog\+\_\+flag}!globals.\+c@{globals.\+c}}
\subsubsection{watchdog\+\_\+flag}
{\footnotesize\ttfamily C\+Y\+B\+IT watchdog\+\_\+flag = F\+A\+L\+SE}

Watchdog flag enabler. 